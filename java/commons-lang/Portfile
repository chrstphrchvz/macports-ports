PortSystem 1.0

name                commons-lang
version             2.6

categories          java
license             Apache-2
maintainers         nomaintainer
platforms           darwin

description         Jakarta Commons-Lang
long_description    The Lang Component provides a host of helper utilities for \
                    the java.lang API, notably String manipulation methods, basic \
                    numerical methods, object reflection, creation and serialization, \
                    and System properties. Additionally it contains an inheritable \
                    enum type, an exception structure that supports multiple types \
                    of nested-Exceptions, basic enhancements to java.util.Date and \
                    a series of utlities dedicated to help with building methods, \
                    such as hashCode, toString and equals.
homepage            https://commons.apache.org/lang/

distname            ${name}-${version}-src
master_sites        apache:commons/lang/source/
checksums           rmd160  9542bcc3323ddf1e93400e68f9e4d527c71bffd0 \
                    sha256  05479771851be0af057032fa26ad90aa0c91c10e1fc4439558a1ffa6f053bcd7 \
                    size    564032

depends_build       bin:ant:apache-ant
depends_lib         bin:java:kaffe

use_configure       no

build.cmd           ant
build.target        dist
build.args          -Dfinal.name=${name}

destroot {
    # Ensure needed directories
    xinstall -m 755 -d ${destroot}${prefix}/share/java \
        ${destroot}${prefix}/share/doc

    # Install jar
    xinstall -m 644 ${worksrcpath}/target/${name}.jar \
        ${destroot}${prefix}/share/java

    # Install docs
    file copy ${worksrcpath}/src/site/xdoc \
        ${destroot}${prefix}/share/doc/${name}
}

livecheck.type  regex
livecheck.url   https://commons.apache.org/proper/commons-lang/download_lang.cgi
livecheck.regex "${name}-(\\d+\\.\\d+(\\.\\d+)?)-src.tar.gz"
