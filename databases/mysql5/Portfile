# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
PortGroup               obsolete 1.0

# TODO: remove conflicts in mysql4 (not mysql4-server?)
# Remove after 2020-08-06
name                    mysql5
replaced_by             mysql51 +openssl +system_readline
version                 5.1.73
categories              databases

add_users ${mysqluser} group=${mysqluser} realname=MySQL\ Server

if {${name} eq ${subport}} {

    
    
    configure.args \
        --datadir=${prefix}/share/mysql5 \
        --sysconfdir=${prefix}/etc/mysql5 \
    
    pre-destroot {
        xinstall -m 755 -d ${destroot}${prefix}/etc/mysql5
        destroot.keepdirs-append ${destroot}${prefix}/etc/mysql5
    }
    
    
 }

subport mysql5-server {
    replaced_by mysql51-server
    startupitem.create      yes
    startupitem.name        mysql5
    startupitem.start       "${prefix}/share/mysql5/mysql/mysql.server start"
    startupitem.stop        "${prefix}/share/mysql5/mysql/mysql.server stop"
    
}

